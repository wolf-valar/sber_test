В этом репозитории ледит набор скриптов, для разворачивания PostgreSQL, Nginx и Django в контейнерах Docker. Доступ открыт на порту 8080, nginx проксирует запросы на Django.

Требования к системе, на которой с которой разворачивается дочерняя система:
Установленные Ansiblel, sshpass, sed. Тестировался данный проект на ubuntu 18.04

Требования к системе, на которую разворачивается окружение: Ubuntu Server 18.04, с поднятым ssh сервером, и пользователем имеющим право на запуск sudo

Для запуска разворачивания окружения нужно клонировать проект на свою машину:
git clone https://github.com/wolf-valar/sber_test

Перейти в корневую директорию проекта 
cd sber_test

И запустить файл main. main в качестве аргументов принимает параметры: ИМЯ_ПОЛЬЗОВАТЕЛЯ ХОСТ ПАРОЛЬ , например:
  
  ./main user test.jire.ru pwd

Если не указывать пароль, то скрипт спросит его самостоятельно, во время работы. Остальные параметры можно задать в самом скрипте.
Допустим запуск ./main без параметров, тогда берутся значения по умолчанию.

Окружение разворачивается в директорию /var/opt/docker_ev/docker

Скрипты dosker_start и docker_stop необходимы для ручного контроля докер контейнеров.

Пароль для доступа Django к PosgreSQL генерируется автоматически.

Из внешней сети доступен web на порту 8080. http://test.jire.ru:8080.

Пароль от чистой виртуальной машины, где можно протестировать работу скрипта,  будет отправлен на почту. Какое-то время машина будет доступна.


